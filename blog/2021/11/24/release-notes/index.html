<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>November 2021 Release Notes - Version 21.11.0</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <link href="/assets/css/bootstrap.css" rel="stylesheet">
    <link href="/assets/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/assets/css/font-awesome.css" rel="stylesheet">
    <link href="/assets/css/syntax.css" rel="stylesheet">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link href="../../../../../assets/css/main.css" rel="stylesheet" type="text/css" />

    <!-- JS -->
    <script type="text/javascript" src="/assets/js/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap.js"></script>

    <link type="application/atom+xml" rel="alternate" href="/blog/feed.xml" />


    <!-- Google Analytics Magic -->
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-39101739-6', 'finagle.github.io');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <!-- navbar excitement -->
    <div class="navbar navbar-custom navbar-static-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-right navbar-nav">
            <li><a href="https://twitter.github.io/finagle/">Project</a></li>
            <li><a href="https://github.com/finagle/">Ecosystem</a></li>
            <li class="dropdown">
              <a href="https://twitter.github.io/finagle/">Learn more <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="http://twitter.github.io/finagle/guide/">
                  <i class="fa fa-book"></i> User's guide</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="http://twitter.github.io/finagle/guide/Quickstart.html">
                  <i class="fa fa-check-square-o"></i> Quickstart</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://github.com/twitter/finagle/blob/master/ADOPTERS.md">
                  <i class="fa fa-smile-o"></i> Adopters</a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="https://github.com/twitter/finagle">Get involved <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu" aria-labelledby="drop1">
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://github.com/twitter/finagle">
                  <i class="fa fa-github-alt"></i> Source</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://github.com/twitter/finagle/blob/master/CONTRIBUTING.md">
                  <i class="fa fa-code-fork"></i> Contributing</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://twitter.com/finagle">
                  <i class="fa fa-twitter"></i> @finagle</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://groups.google.com/forum/#!forum/finaglers">
                  <i class="fa fa-envelope"></i> Mailing list</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="http://stackoverflow.com/questions/tagged/finagle">
                  <i class="fa fa-stack-overflow"></i> Stack Overflow</a>
                </li>
                <li role="presentation"><a role="menuitem" tabindex="-1" href="https://github.com/finagle/finagle.github.io/">
                  <i class="fa fa-pencil"></i> Write a blog post!</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </div><!-- /.navbar -->
    <div class="container">
      <div class="row">

<div class="col-md-3">
  <div><a href="/" class="logo"><img src="/assets/img/finagle_logo_small.png" alt="Finagle" /></a></div>
  <div class="meta">
    <!---->
    <div class="author-contact">
      <h4 class="author-name">Dorothy Ordogh</h4>
      <p class="author-twitter"><a href="https://twitter.com/dordogh">@dordogh</a></p>
    </div>
    <p><em>Posted November 24, 2021</em></p>
  </div>
  
  <div class="share">
    <span class="social-share-button"><a href="https://twitter.com/share" class="twitter-share-button" data-via="finagle">Tweet</a></span>
    
    <span><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></span>
  </div>
</div>

<div class="post col-md-9">
  <h1>November 2021 Release Notes - Version 21.11.0</h1>
  
  <p>The winter ‚ùÑÔ∏è holidays are coming, so here is an early gift üéÅ from us to you: the November release ‚òÉÔ∏è</p>

<h1><a href="https://github.com/twitter/util/">Util</a></h1>

<h2>Breaking API Changes</h2>

<ul>
<li>  util-security: Use snakeyaml to parse yaml instead of a buggy custom yaml
parser. This means that thrown IOExceptions have been replaced by
YAMLExceptions. Additionally, the parser member has been limited to private visibility. <a href="https://github.com/twitter/util/commit/3643e1e870c1a6d6fb521a5f0e00c0b9e1e7d4fe">3643e1e8</a></li>
</ul>

<h2>New Features</h2>

<ul>
<li>  util-security: Any valid yaml / json file with string keys and values can
be loaded with com.twitter.util.security.Credentials. <a href="https://github.com/twitter/util/commit/3643e1e870c1a6d6fb521a5f0e00c0b9e1e7d4fe">3643e1e8</a></li>
</ul>

<h2>Runtime Behavior Changes</h2>

<ul>
<li>  util-cache: Update Caffeine cache library to version 2.9.2 <a href="https://github.com/twitter/util/commit/c1d62105bfe7b951b7c65d95fafc5f08e0d16bdb">c1d62105</a></li>
<li>  util-jackson: Enable BLOCK_UNSAFE_POLYMORPHIC_BASE_TYPES in ScalaObjectMapper to
guard against Remote Code Execution (RCE) security vulnerability. This blocks
polymorphic deserialization from unsafe base types. <a href="https://github.com/twitter/util/commit/35f262f23aaad1301ccf563210d4af670051ec95">35f262f2</a></li>
</ul>

<h1><a href="https://github.com/twitter/scrooge/">Scrooge</a></h1>

<h2>Runtime Behavior Changes</h2>

<ul>
<li>  scrooge-serializer: concrete implementations of the ThriftStructSerializer
trait in the c.t.scrooge. package now cache the value of its maxReusableBufferSize
flag for the duration of the application. This improves performance but also makes them
not observe changes to the flag. The value of this flag typically does not change during
run time of an application, so this is deemed an acceptable tradeoff. <a href="https://github.com/twitter/scrooge/commit/064e1535ca50b4d7510e2d76fec8901b79a7d0e6">064e1535</a></li>
</ul>

<h1><a href="https://github.com/twitter/finagle/">Finagle</a></h1>

<h2>Changed</h2>

<ul>
<li>  finagle-base-http: Promote several classes out of exp experimental package:
c.t.f.http.{GenStreamingSerialServerDispatcher, IdentityStreamTransport, StreamTransport} along
with internal support classes. <a href="https://github.com/twitter/finagle/commit/81169d5372442e5781fd1a62894eded080c0ac1d">81169d53</a></li>
</ul>

<h2>Breaking API Changes</h2>

<ul>
<li>  finagle-core: Remove c.t.f.loadbalancer.Balancer.maxEffort. Remove the maxEffort
argument from Balancers.{p2c, p2cPeakEwma, aperture, aperturePeakEwmaUse, roundRobin}.
<a href="https://github.com/twitter/finagle/commit/25f01f771d0f7cc513f64168aa20003791045776">25f01f77</a></li>
<li>  finagle-core: c.t.f.tracing.ClientRequestTracingFilter has been removed.
Record relevant tracing information in your service or client directly. <a href="https://github.com/twitter/finagle/commit/bcd89491ade6668c82143c0ea64ad09c68db12fa">bcd89491</a></li>
<li>  finagle: Remove com.twitter.finagle.Group, and other rarely used and deprecated pieces that depend on it
com.twitter.finagle.memcached.TwitterCacheResolver, com.twitter.finagle.memcached.CacheNodeGroup,
com.twitter.finagle.memcached.RubyMemCacheClient, and com.twitter.finagle.memcached.PHPMemCacheClient.
Instead of Group, please use Var[Set[T]] or Activity[Set[T]] directly instead. <a href="https://github.com/twitter/finagle/commit/f60213199359efaf5492d461471e71058c76a1d9">f6021319</a></li>
</ul>

<h2>Runtime Behavior Changes</h2>

<ul>
<li>  finagle: Update Caffeine cache library to version 2.9.2 <a href="https://github.com/twitter/finagle/commit/7c91f966612dfc839824e144b08c80cfbf160532">7c91f966</a></li>
</ul>

<h1><a href="https://github.com/twitter/finatra/">Finatra</a></h1>

<h2>Added</h2>

<ul>
<li>  inject-core: Introduce a runAfterAll hook in c.t.inject.IntegrationTestMixin to allow for
running logic to clean-up test resources in the org.scalatest.BeforeAndAfterAll#afterAll without
needing to 1) override org.scalatest.BeforeAndAfterAll#afterAll, 2) ensure super is called for
other resources clean-up, and 3) ensure all resources get cleaned up, regardless of non-fatal
exceptions thrown as part of the clean-up logic and otherwise fail the TestSuite run.
<a href="https://github.com/twitter/finatra/commit/42c17b87a8df306999d7fdd0ea73b85ebdcd4071">42c17b87</a></li>
</ul>

<h2>Changed</h2>

<ul>
<li>  http-server (BREAKING API CHANGE): Will now serialize many self-referential Jackson types as &ldquo;{}&rdquo;
instead of returning a serialization error. See <a href="https://github.com/FasterXML/jackson-databind/commit/765e2fe1b7f6cdbc6855b32b39ba876fdff9fbcc">https://github.com/FasterXML/jackson-databind/commit/765e2fe1b7f6cdbc6855b32b39ba876fdff9fbcc</a>
for more details. <a href="https://github.com/twitter/finatra/commit/044293fe14009791aa0e0c78edbaa7c8d1ac24da">044293fe</a></li>
</ul>

<h1><a href="https://github.com/twitter/twitter-server/">Twitter Server</a></h1>

<p>No Changes</p>

</div>
</div>

      <hr>
      <!-- footer -->
      <div class="footer pull-right">
        <p>&copy; 2014‚Äì2019 <a href="https://twitter.com/">Twitter, Inc.</a> and other contributors
      </div><!-- /footer -->
    </div><!-- /container -->
  </body>
</html>
